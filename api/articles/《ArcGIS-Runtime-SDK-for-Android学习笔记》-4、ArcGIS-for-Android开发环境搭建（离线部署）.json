{"title":"《ArcGIS Runtime SDK for Android学习笔记》-4、ArcGIS for Android开发环境搭建（离线部署）","slug":"《ArcGIS-Runtime-SDK-for-Android学习笔记》-4、ArcGIS-for-Android开发环境搭建（离线部署）","date":"2016-04-08T07:58:32.000Z","updated":"2018-04-14T14:51:42.876Z","comments":true,"path":"api/articles/《ArcGIS-Runtime-SDK-for-Android学习笔记》-4、ArcGIS-for-Android开发环境搭建（离线部署）.json","excerpt":"本文主要介绍以复制SDK的形式搭建ArcGIS for Android开发环境<br>","covers":["https://img.wshunli.com/ArcGISforAndroid/4/ArcGISforAndroid离线部署1.png-hexo.png","https://img.wshunli.com/ArcGISforAndroid/4/ArcGISforAndroid离线部署5.png-hexo.png","https://img.wshunli.com/ArcGISforAndroid/4/ArcGISforAndroid离线部署6.png-hexo.png","https://img.wshunli.com/ArcGISforAndroid/3/ArcGISforAndroid开发环境搭建7.png-hexo.png","https://img.wshunli.com/ArcGISforAndroid/3/ArcGISforAndroid开发环境搭建8.png-hexo.png"],"content":"<p><strong>本文主要介绍以复制SDK的形式搭建ArcGIS for Android开发环境</strong><br><a id=\"more\"></a></p><h1 id=\"ArcGIS-for-Android-SDK的下载\"><a href=\"#ArcGIS-for-Android-SDK的下载\" class=\"headerlink\" title=\"ArcGIS for Android SDK的下载\"></a>ArcGIS for Android SDK的下载</h1><p>1、打开 <a href=\"https://developers.arcgis.com/android/\" rel=\"external nofollow noopener noreferrer\" target=\"_blank\">ArcGIS for Developers</a> 网站、点击右上角登录</p><p><img src=\"https://img.wshunli.com/ArcGISforAndroid/4/ArcGISforAndroid离线部署1.png-hexo.png\" alt=\"\"></p><p>2、登陆成功后进入到 <a href=\"https://developers.arcgis.com/applications/\" rel=\"external nofollow noopener noreferrer\" target=\"_blank\">Applications</a> 页面，点击右上角的下载按钮打开 <a href=\"https://developers.arcgis.com/downloads/\" rel=\"external nofollow noopener noreferrer\" target=\"_blank\">下载页面</a>。</p><p><img src=\"https://img.wshunli.com/ArcGISforAndroid/4/ArcGISforAndroid离线部署2.png-hexo.png\" alt=\"\"></p><p>3、可以看到ArcGIS Runtime SDK for Android 最新版10.2.7的下载地址，点击 download 按钮下载。</p><p><img src=\"https://img.wshunli.com/ArcGISforAndroid/4/ArcGISforAndroid离线部署3.png-hexo.png\" alt=\"\"></p><h1 id=\"ArcGIS-for-Android-SDK的解压与复制\"><a href=\"#ArcGIS-for-Android-SDK的解压与复制\" class=\"headerlink\" title=\"ArcGIS for Android SDK的解压与复制\"></a>ArcGIS for Android SDK的解压与复制</h1><p>1、解压 ArcGIS for Android SDK 包，目录结构如下。</p><p><img src=\"https://img.wshunli.com/ArcGISforAndroid/4/ArcGISforAndroid离线部署4.png-hexo.png\" alt=\"\"></p><p>其中里面比较重要的有以下几项：</p><pre><code class=\"java\">1、doc —— 该版本SDK对应的API文档，官网一直都是最新的，需要查看旧版API或者指定版本API说明的的一般需要到这里查找\n2、lib-project —— aar格式的函数库，例如：arcgis-android-v10.2.6-2.aar\n3、libs —— jar和so格式的函数库，一般在项目中拷贝到项目文件夹下，引用即可，可实现离线部署\n4、samples——示例代码。官方所有示例代码都在这里，新版基于Android studio 开发环境\n</code></pre><p>其他说明：SDK包下载及说明也可以参考博文</p><p><a href=\"http://www.cnblogs.com/gis-luq/p/4735815.html\" rel=\"external nofollow noopener noreferrer\" target=\"_blank\">http://www.cnblogs.com/gis-luq/p/4735815.html</a></p><p>2、将SDK libs文件夹下的文件复制到项目的libs文件夹下。</p><p><img src=\"https://img.wshunli.com/ArcGISforAndroid/4/ArcGISforAndroid离线部署5.png-hexo.png\" alt=\"\"></p><p>其实所有文件复制过去、安装包是比较大的（30M+），<br>可以考虑开发时把其中两个先删除了，减少编译时间，生成安装包时再加上。</p><p>至于 armeabi、armeabi-v7a 和 x86 之间的区别可参考文章：</p><p><a href=\"http://blog.csdn.net/loveyaozu/article/details/51205820\" rel=\"external nofollow noopener noreferrer\" target=\"_blank\">http://blog.csdn.net/loveyaozu/article/details/51205820</a></p><h1 id=\"ArcGIS-for-Android-SDK的配置\"><a href=\"#ArcGIS-for-Android-SDK的配置\" class=\"headerlink\" title=\"ArcGIS for Android SDK的配置\"></a>ArcGIS for Android SDK的配置</h1><p>在此说明我的Android Studio版本是 <strong>Android Studio 2.1 Beta3</strong> 其他版本可能略有不同。</p><h2 id=\"App-Module配置\"><a href=\"#App-Module配置\" class=\"headerlink\" title=\"App Module配置\"></a>App Module配置</h2><p>在App Module添加如下代码配置SDK</p><pre><code class=\"Groovy\">sourceSets {\n    main {\n        jniLibs.srcDir &#39;libs&#39;\n    }\n}\n</code></pre><p><img src=\"https://img.wshunli.com/ArcGISforAndroid/4/ArcGISforAndroid离线部署6.png-hexo.png\" alt=\"\"></p><p>点击同步 Gradle 按钮，可以看到SDK已经添加进来了。</p><p><img src=\"https://img.wshunli.com/ArcGISforAndroid/4/ArcGISforAndroid离线部署7.png-hexo.png\" alt=\"\"></p><p><strong>以下关于SDK使用的内容和在线部署完全相同</strong></p><p><strong>2、Packaging 配置</strong></p><p>在生成APK时我们可能不希望将一些文件打包到 APK 中，这时我们可通过下面的配置将所需文件排除 APK 文件中：</p><pre><code class=\"Groovy\">packagingOptions{\n    exclude &#39;META-INF/LGPL2.1&#39;\n    exclude &#39;META-INF/LICENSE&#39;\n    exclude &#39;META-INF/NOTICE&#39;\n}\n</code></pre><p><img src=\"https://img.wshunli.com/ArcGISforAndroid/3/ArcGISforAndroid开发环境搭建7.png-hexo.png\" alt=\"\"></p><h2 id=\"Permissions-和-Features-配置\"><a href=\"#Permissions-和-Features-配置\" class=\"headerlink\" title=\"Permissions 和 Features 配置\"></a>Permissions 和 Features 配置</h2><p>对于绝大多数的 ArcGIS Android 应用几乎都需要网络的支持；也有一些应用可能会需要访问设备的 SDcard ，需要对该卡有读写的权限；除此对于 GIS 来说最常用的功能就是定位了，应用应该具备定位权限。ArcGIS Android 的 MapView 使用了 OpenGL ES 2.x，所以在配置文件中还需添加 OpenGL ES 的支持，因此应用的配置文件至少包含下面的配置信息：</p><pre><code class=\"xml\">&lt;uses-permission android:name=&quot;android.permission.INTERNET&quot; /&gt;\n&lt;uses-permission android:name=&quot;android.permission.WRITE_EXTERNAL_STORAGE&quot; /&gt;\n&lt;uses-permission android:name=&quot;android.permission.ACCESS_FINE_LOCATION&quot; /&gt;\n&lt;uses-feature\n    android:glEsVersion=&quot;0x00020000&quot;\n    android:required=&quot;true&quot; /&gt;\n</code></pre><p><img src=\"https://img.wshunli.com/ArcGISforAndroid/3/ArcGISforAndroid开发环境搭建8.png-hexo.png\" alt=\"\"></p><p>至此ArcGIS for Android开发环境搭建完成</p><blockquote><p>参考资料<br>1、Android开发中libs包下面的mips、armeabi、armeabi-v7a和x86<br><a href=\"http://blog.csdn.net/loveyaozu/article/details/51205820\" rel=\"external nofollow noopener noreferrer\" target=\"_blank\">http://blog.csdn.net/loveyaozu/article/details/51205820</a><br>2、基于Android Studio构建ArcGIS Android开发环境（离线部署）<br><a href=\"http://www.cnblogs.com/gis-luq/p/4760377.html\" rel=\"external nofollow noopener noreferrer\" target=\"_blank\">http://www.cnblogs.com/gis-luq/p/4760377.html</a><br>3、Arcgis Android 手动搭建开发环境<br><a href=\"http://www.cnblogs.com/wangcan/p/4773530.html\" rel=\"external nofollow noopener noreferrer\" target=\"_blank\">http://www.cnblogs.com/wangcan/p/4773530.html</a><br>4、使用Android Studio进行ArcGIS for Android开发的环境部署<br><a href=\"http://blog.sina.com.cn/s/blog_7cdaf8b60102w0bk.html\" rel=\"external nofollow noopener noreferrer\" target=\"_blank\">http://blog.sina.com.cn/s/blog_7cdaf8b60102w0bk.html</a></p></blockquote>","categories":[{"name":"移动GIS技术","path":"api/categories/移动GIS技术.json"}],"tags":[{"name":"Android","path":"api/tags/Android.json"},{"name":"ArcGIS","path":"api/tags/ArcGIS.json"},{"name":"ArcGIS Runtime SDK","path":"api/tags/ArcGIS Runtime SDK.json"},{"name":"ArcGIS for Android","path":"api/tags/ArcGIS for Android.json"}]}