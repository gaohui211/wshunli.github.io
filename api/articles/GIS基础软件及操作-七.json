{"title":"GIS基础软件及操作(七)","slug":"GIS基础软件及操作-七","date":"2016-01-14T06:56:18.000Z","updated":"2018-03-15T17:16:13.093Z","comments":true,"path":"api/articles/GIS基础软件及操作-七.json","excerpt":"练习七、地形分析地形分析：TIN及DEM的生成及应用加深对TIN建立过程的原理、方法的认识；熟练掌握ArcGIS中建立DEM、TIN的技术方法；结合实际，掌握应用DEM解决地学空间分析问题的能力。","covers":["https://img.wshunli.com/GIS基础软件及操作/exec7/exec7_001.png-hexo.png"],"content":"<h1 id=\"练习七、地形分析\"><a href=\"#练习七、地形分析\" class=\"headerlink\" title=\"练习七、地形分析\"></a>练习七、地形分析</h1><p>地形分析：TIN及DEM的生成及应用</p><ol><li>加深对TIN建立过程的原理、方法的认识；</li><li>熟练掌握ArcGIS中建立DEM、TIN的技术方法；</li><li>结合实际，掌握应用DEM解决地学空间分析问题的能力。</li></ol><a id=\"more\"></a><h2 id=\"1-TIN-及DEM-生成\"><a href=\"#1-TIN-及DEM-生成\" class=\"headerlink\" title=\"1. TIN 及DEM 生成\"></a>1. TIN 及DEM 生成</h2><p>矢量数据：</p><ul><li>高程点Elevpt_Clip.shp</li><li>高程Elev_Clip.shp</li><li>边界Boundary.shp</li><li>洱海Erhai.shp</li></ul><p>本章的大部分练习都会用到三维分析扩展模块，要使用“三维分析模块”首先在ArcMap中执行菜单命令【自定义】&gt;【扩展模块】，在扩展模块管理窗口中，勾选【3D Analyst】。然后在ArcMap工具栏的空白区域点右键，在出现的右键菜单中找到【3D Analyst】项，点击该项，在ArcMap中显示三维分析工具栏。</p><p><img src=\"https://img.wshunli.com/GIS基础软件及操作/exec7/exec7_001.png-hexo.png\" alt=\"\"><br><img src=\"https://img.wshunli.com/GIS基础软件及操作/exec7/exec7_002.png-hexo.png\" alt=\"\"></p><h3 id=\"1-1由高程点、等高线矢量数据生成TIN转为DEM\"><a href=\"#1-1由高程点、等高线矢量数据生成TIN转为DEM\" class=\"headerlink\" title=\"1.1由高程点、等高线矢量数据生成TIN转为DEM\"></a>1.1由高程点、等高线矢量数据生成TIN转为DEM</h3><p>(1) 在ArcMap中新建一个地图文档，添加矢量数据：Elevpt_Clip、Elev_Clip、Boundary、Erhai；</p><p>(2) 在ArcToolbox中双击【3D Analyst工具】&gt;【TIN管理】&gt;【创建TIN】，打开【创建TIN】对话框；</p><p>(3) 在对话框中添加上述4个图层，参数设置如下图<strong>（注意：在构建Erhai图层时，SF_type参数需要设置为“硬替换”）</strong>：</p><p><img src=\"https://img.wshunli.com/GIS基础软件及操作/exec7/exec7_003.png-hexo.png\" alt=\"\"></p><p><strong>【创建TIN】对话框中的参数说明</strong>：</p><p><strong>height_field：</strong>高程字段，用于提供要素的高程值。当图层中无高度属性时，可选“&lt;None&gt;”，但至少要保证有一个图层属性表中有高程值。</p><p><strong>SF_type：</strong>表面要素类型字段，用于定义如何将要素几何添加到三角形中。</p><p><strong>tag_field：</strong>标签字段，用于指定在TIN中用做标签值的要素类型属性字段。</p><p><strong>“SF_type”字段取值类型说明</strong>：</p><p><strong>离散多点：</strong>是TIN网中的结点，主要决定表面的形状，在表面变化程度较大的区域包括较多的离散点，表面变化程度较小的区域包括较少的离散点。</p><p><strong>断裂线：</strong>主要用来表示自然要素（如山脊线、河流）或人工要素（如道路），分为硬断线和软断线。</p><p><strong>硬断线：</strong>用来表示坡度的不连续性，如河流和道路可以作为硬断裂线包括在TIN中；</p><p><strong>软断线：</strong>用于向TIN添加边，以捕获不会改变表面局部坡度的线状要素，研究区域边界可作为软断裂线包括在TIN中。</p><p>(1) 在图层控制中，仅打开【ErHai】和【Tin】两个图层，同时关闭图层【Tin】的“边类型”，可得到如下的效果：</p><p><img src=\"https://img.wshunli.com/GIS基础软件及操作/exec7/exec7_004.png-hexo.png\" alt=\"\"></p><p>(2) 在ArcToolbox中双击【3D Analyst工具】&gt;【由TIN转出】&gt;【TIN转栅格】，打开【TIN转栅格】对话框，在对话框中设置相关参数（如下图所示）：</p><p><img src=\"https://img.wshunli.com/GIS基础软件及操作/exec7/exec7_005.png-hexo.png\" alt=\"\"></p><p>需要保存在个人数据库中。</p><p>(3) 确定后得到一个栅格数据图层【tinGrid】，其中每个栅格单元表示50m*50m的区域，如下图所示。</p><p><img src=\"https://img.wshunli.com/GIS基础软件及操作/exec7/exec7_006.png-hexo.png\" alt=\"\"></p><h3 id=\"1-2-TIN的显示\"><a href=\"#1-2-TIN的显示\" class=\"headerlink\" title=\"1.2 TIN的显示\"></a>1.2 TIN的显示</h3><p>(1) 在图层控制中，仅打开【Tin】图层，编辑图层的属性，在属性对话框中，点击【符号系统】选项页，将【边类型】和【高程】前面的勾去掉，点击【添加】按钮，如下图所示：</p><p><img src=\"https://img.wshunli.com/GIS基础软件及操作/exec7/exec7_007.png-hexo.png\" alt=\"\"></p><p>(2) 在【添加渲染器】对话框中，将【具有相同符号的边】和【具有相同符号的节点】添加到TIN的显示列表中，如下图所示：</p><p><img src=\"https://img.wshunli.com/GIS基础软件及操作/exec7/exec7_008.png-hexo.png\" alt=\"\"></p><p>(3) 点击确定，将【Tin】图层局部放大，认真理解TIN的存储模式及显示方式，如下图所示：</p><p><img src=\"https://img.wshunli.com/GIS基础软件及操作/exec7/exec7_009.png-hexo.png\" alt=\"\"></p><h3 id=\"1-3将TIN转换为坡度多边形\"><a href=\"#1-3将TIN转换为坡度多边形\" class=\"headerlink\" title=\"1.3将TIN转换为坡度多边形\"></a>1.3将TIN转换为坡度多边形</h3><p>(1) 新建地图文档，加载图层【Tin】，参考上一步操作，将【具有分级色带的表面坡度】项添加到TIN的显示列表中；</p><p><img src=\"https://img.wshunli.com/GIS基础软件及操作/exec7/exec7_010.png-hexo.png\" alt=\"\"></p><p>(2) 在上面的对话框中，选中【坡度(度)】，将【分类】中的【类】指定为“5”，点击【分类】按钮，在下面的对框中，将【分类】中的【方法】指定为“手动”，在【中断值】列表中依次输入坡度中断值：8、15、25、35、90，如下图所示：</p><p><img src=\"https://img.wshunli.com/GIS基础软件及操作/exec7/exec7_011.png-hexo.png\" alt=\"\"></p><p>点击【确定】后关闭图层属性对话框，图层【Tin】将根据指定的渲染方式进行渲染，效果如下图所示：</p><p><img src=\"https://img.wshunli.com/GIS基础软件及操作/exec7/exec7_012.png-hexo.png\" alt=\"\"></p><p><img src=\"https://img.wshunli.com/GIS基础软件及操作/exec7/exec7_013.png-hexo.png\" alt=\"\"></p><p>(3) 在ArcToolbox中双击【3D Analyst工具】&gt;【表面三角化】&gt;【表面坡度】，打开【表面坡度】对话框，按下图所示指定各参数<strong>（注意：需要在【类明细表】中选取数据库SlopeCode.mdb）</strong>：</p><p><img src=\"https://img.wshunli.com/GIS基础软件及操作/exec7/exec7_014.png-hexo.png\" alt=\"\"></p><p>得到多边形图层【tinSlope】，它表示研究区内各类坡度的分布状况，结果是矢量格式，打开其属性表可以看到属性字段【SlopeCode】的取值为1、2、3、4、5。</p><p><img src=\"https://img.wshunli.com/GIS基础软件及操作/exec7/exec7_016.png-hexo.png\" alt=\"\"></p><p>查看矢量图层：tinSlopef中要素属性表，其中属性字段【SlopeCode】1、2、3、4、5分别表示坡度范围（0-8）、(8-15)、（15-25）、（25-35）、(35-90)。</p><h3 id=\"1-4合并破碎多边形\"><a href=\"#1-4合并破碎多边形\" class=\"headerlink\" title=\"1.4合并破碎多边形\"></a>1.4合并破碎多边形</h3><p>(1) 新建地图文档，加载上一步生成的坡度多边形图层【tinSlope】，打开属性表，添加一个字段Area（类型为Double）；</p><p><img src=\"https://img.wshunli.com/GIS基础软件及操作/exec7/exec7_017.png-hexo.png\" alt=\"\"></p><p>(1) 通过【计算几何】操作，计算各个多边形的面积：</p><p><img src=\"https://img.wshunli.com/GIS基础软件及操作/exec7/exec7_018.png-hexo.png\" alt=\"\"></p><p><img src=\"https://img.wshunli.com/GIS基础软件及操作/exec7/exec7_019.png-hexo.png\" alt=\"\"></p><p>(2) 执行菜单命令【选择】&gt;【按属性选择】，打开【按属性选择】对话框，将面积小于等于10000平方米的多边形选择出来，被选中的多边形以高亮方式显示：</p><p><img src=\"https://img.wshunli.com/GIS基础软件及操作/exec7/exec7_020.png-hexo.png\" alt=\"\"></p><p><img src=\"https://img.wshunli.com/GIS基础软件及操作/exec7/exec7_021.png-hexo.png\" alt=\"\"></p><p>(3) 双击ArcToolBox中的【数据管理工具】&gt;【制图综合】&gt;【消除】，打开【消除】对话框，将面积小于等于10000平方米的多边形合并到周围面积最大的多边形中。</p><p><img src=\"https://img.wshunli.com/GIS基础软件及操作/exec7/exec7_022.png-hexo.png\" alt=\"\"></p><p><img src=\"https://img.wshunli.com/GIS基础软件及操作/exec7/1.png-hexo.png\" alt=\"\"></p><p>原始多边形</p><p><img src=\"https://img.wshunli.com/GIS基础软件及操作/exec7/2.png-hexo.png\" alt=\"\"></p><p>合并后的多边形</p><p>将地图适当放大，比较原始图层【tinSlope】与合并后的图层【tinSlope_Eliminate】。</p><p><img src=\"https://img.wshunli.com/GIS基础软件及操作/exec7/3.png-hexo.png\" alt=\"\"></p><p>Eliminate（合并破碎多边形）操作原理</p><h3 id=\"1-5-TIN转换为坡向多边形\"><a href=\"#1-5-TIN转换为坡向多边形\" class=\"headerlink\" title=\"1.5 TIN转换为坡向多边形\"></a>1.5 TIN转换为坡向多边形</h3><p>参照1.3节中的操作步骤，可得到坡向多边形图层【tinAspect】：</p><p><img src=\"https://img.wshunli.com/GIS基础软件及操作/exec7/exec7_025.png-hexo.png\" alt=\"\"></p><p><img src=\"https://img.wshunli.com/GIS基础软件及操作/exec7/exec7_026.png-hexo.png\" alt=\"\"></p><p>得到的坡向多边形中属性AspectCode的数值（-1,1,2,3,4,5,6,7,8,9）分别表示当前图斑的坡向（平坦、北、东北、东、东南、南、西南、西、西北、北），其中1,9是相同的可以合并为1。</p><p><img src=\"https://img.wshunli.com/GIS基础软件及操作/exec7/4.png-hexo.png\" alt=\"\"></p><p><img src=\"https://img.wshunli.com/GIS基础软件及操作/exec7/5.png-hexo.png\" alt=\"\"></p><h2 id=\"2-DEM的应用\"><a href=\"#2-DEM的应用\" class=\"headerlink\" title=\"2. DEM的应用\"></a>2. DEM的应用</h2><h3 id=\"2-1坡度Slope\"><a href=\"#2-1坡度Slope\" class=\"headerlink\" title=\"2.1坡度Slope\"></a>2.1坡度Slope</h3><p>(1) 新建地图文档，加载1.1节第6步中得到的栅格数据【tinGrid】；</p><p>(2) 双击ArcToolBox中的【Spatial Analyst工具】&gt;【表面分析】&gt;【坡度】,打开【坡度】对话框，参照下图指定各参数：</p><p><img src=\"https://img.wshunli.com/GIS基础软件及操作/exec7/exec7_027.png-hexo.png\" alt=\"\"></p><p>(3) 得到坡度栅格Slope_TinGrid，栅格单元的值在【 0 -90 】 度间变化：</p><p><img src=\"https://img.wshunli.com/GIS基础软件及操作/exec7/exec7_028.png-hexo.png\" alt=\"\"></p><p>(4) 右键点击图层【Slope_TinGrid】，执行【属性命令】，设置图层【符号】，重新调整坡度分级（参考1.3节中第2步进行分类）：</p><p><img src=\"https://img.wshunli.com/GIS基础软件及操作/exec7/exec7_029.png-hexo.png\" alt=\"\"></p><h3 id=\"2-2坡向Aspect\"><a href=\"#2-2坡向Aspect\" class=\"headerlink\" title=\"2.2坡向Aspect\"></a>2.2坡向Aspect</h3><p>(1) 新建地图文档，加载1.1节第6步中得到的栅格数据【tinGrid】；</p><p>(2) 双击ArcToolBox中的【Spatial Analyst工具】&gt;【表面分析】&gt;【坡向】, 打开【坡向】对话框，参照下图指定各参数：</p><p><img src=\"https://img.wshunli.com/GIS基础软件及操作/exec7/exec7_030.png-hexo.png\" alt=\"\"></p><p>(3) 得到坡向栅格【AspectTinGrid】：</p><p><img src=\"https://img.wshunli.com/GIS基础软件及操作/exec7/exec7_031.png-hexo.png\" alt=\"\"></p><h3 id=\"2-3提取等高线\"><a href=\"#2-3提取等高线\" class=\"headerlink\" title=\"2.3提取等高线\"></a>2.3提取等高线</h3><p>(1) 新建地图文档，加载栅格数据【tinGrid】；</p><p>(2) 双击ArcToolBox中的【3D Analyst工具】&gt;【栅格表面】&gt;【等值线】，打开【等值线】对话框，参照下图指定各参数：</p><p><img src=\"https://img.wshunli.com/GIS基础软件及操作/exec7/exec7_032.png-hexo.png\" alt=\"\"></p><p>(3) 生成等高线矢量图层【Contour_TinGrid】：</p><p><img src=\"https://img.wshunli.com/GIS基础软件及操作/exec7/exec7_033.png-hexo.png\" alt=\"\"></p><h3 id=\"2-4计算地形表面的阴影图\"><a href=\"#2-4计算地形表面的阴影图\" class=\"headerlink\" title=\"2.4计算地形表面的阴影图\"></a>2.4计算地形表面的阴影图</h3><p>(1) 新建地图文档，加载栅格数据【tinGrid】；</p><p>(2) 双击ArcToolBox中的【3D Analyst工具】&gt;【栅格表面】&gt;【山体阴影】,打开【山体阴影】对话框，参照下图指定各参数：</p><p><img src=\"https://img.wshunli.com/GIS基础软件及操作/exec7/exec7_034.png-hexo.png\" alt=\"\"></p><p>(3) 生成地表阴影栅格：【ShadowTinGrid】：</p><p><img src=\"https://img.wshunli.com/GIS基础软件及操作/exec7/exec7_035.png-hexo.png\" alt=\"\"></p><p>(4) 关闭除【TinGrid】和【ShadowTinGrid】以外的所有图层，并将【TinGrid】置于【ShadowTinGrid】之上，右键点击【TinGrid】，在出现的右键菜单中执行【属性】，在【图层属性】对话框中，参照下图所示设置【符号系统】选项页中颜色：</p><p><img src=\"https://img.wshunli.com/GIS基础软件及操作/exec7/exec7_036.png-hexo.png\" alt=\"\"></p><p>(5) 打开工具栏【效果】，如下图所示，设置栅格图层【TinGrid】的透明度为40%左右，以便部分透出下层的山体阴影效果。</p><p><img src=\"https://img.wshunli.com/GIS基础软件及操作/exec7/exec7_037.png-hexo.png\" alt=\"\"></p><h3 id=\"2-5通视分析\"><a href=\"#2-5通视分析\" class=\"headerlink\" title=\"2.5通视分析\"></a>2.5通视分析</h3><p>(1) 新建地图文档，加载栅格数据【tinGrid】；</p><p>(2) 打开【3DAnalyst】工具栏，从工具栏选择【创建通视线】工具：</p><p><img src=\"https://img.wshunli.com/GIS基础软件及操作/exec7/exec7_038.png-hexo.png\" alt=\"\"></p><p>(3) 在出现的【通视线】对话框中输入【观察点偏移】和【目标偏移】,即距地面的距离，如图：</p><p><img src=\"https://img.wshunli.com/GIS基础软件及操作/exec7/exec7_039.png-hexo.png\" alt=\"\"></p><p>在地图显示区中从某点A沿不同方向绘制多条直线，可以得到观察点A到不同目标点的通视性：</p><p><img src=\"https://img.wshunli.com/GIS基础软件及操作/exec7/exec7_040.png-hexo.png\" alt=\"\"></p><p>绿色线段表示可视的部分，红色线段表示不可见部分</p><h3 id=\"2-6视域分析\"><a href=\"#2-6视域分析\" class=\"headerlink\" title=\"2.6视域分析\"></a>2.6视域分析</h3><p>(1) 新建地图文档，加载栅格数据【tinGrid】和矢量数据【移动基站.shp】；</p><p>(2) 双击ArcToolBox中的【3D Analyst工具】&gt;【可见性】&gt;【视域】，打开【视域】对话框，参照下图指定各参数：</p><p><img src=\"https://img.wshunli.com/GIS基础软件及操作/exec7/exec7_041.png-hexo.png\" alt=\"\"></p><p>(3) 生成可视区栅格【View_TinGrid】，其中绿色表示现有发射基站信息已覆盖的区域，淡红色表示无法接收到手机信号的区域。</p><p><img src=\"https://img.wshunli.com/GIS基础软件及操作/exec7/exec7_042.png-hexo.png\" alt=\"\"></p><h3 id=\"2-7地形剖面\"><a href=\"#2-7地形剖面\" class=\"headerlink\" title=\"2.7地形剖面\"></a>2.7地形剖面</h3><p>(1) 新建地图文档，加载栅格数据【tinGrid】；</p><p>(2) 打开【3DAnalyst】工具栏，从工具栏选择【线插值】工具，跟踪一条线段，这条线段可以从【tinGrid】中得到高程值：</p><p><img src=\"https://img.wshunli.com/GIS基础软件及操作/exec7/exec7_043.png-hexo.png\" alt=\"\"></p><p><img src=\"https://img.wshunli.com/GIS基础软件及操作/exec7/exec7_044.png-hexo.png\" alt=\"\"></p><p>(3) 从【3DAnalyst】工具栏中选择【创建剖面图】工具，得到该线段所在区域的剖面图：</p><p><img src=\"https://img.wshunli.com/GIS基础软件及操作/exec7/exec7_045.png-hexo.png\" alt=\"\"></p>","categories":[{"name":"GIS软件操作","path":"api/categories/GIS软件操作.json"}],"tags":[{"name":"ArcGIS","path":"api/tags/ArcGIS.json"}]}