{"title":"计算机基础-计算机网络（三）","slug":"计算机基础-计算机网络（三）","date":"2017-10-05T06:55:39.000Z","updated":"2018-04-25T14:57:43.270Z","comments":true,"path":"api/articles/计算机基础-计算机网络（三）.json","excerpt":"计算机网络-数据链路层 部分读书笔记","covers":["https://img.wshunli.com/计算机基础-计算机网络/3/数据链路层的地位.png-hexo.png"],"content":"<p><strong>计算机网络-数据链路层</strong> 部分读书笔记<a id=\"more\"></a></p><h1 id=\"链路层的基本概念\"><a href=\"#链路层的基本概念\" class=\"headerlink\" title=\"链路层的基本概念\"></a>链路层的基本概念</h1><p>数据链路层属于计算机网络的低层。链路层使用的信道可分为<strong>点对点信道（PPP）</strong>和<strong>广播信道（CSMA/CD）</strong>两种。</p><p><img src=\"https://img.wshunli.com/计算机基础-计算机网络/3/数据链路层的地位.png-hexo.png\" alt=\"数据链路层的地位\"></p><h1 id=\"使用点对点信道的数据链路层\"><a href=\"#使用点对点信道的数据链路层\" class=\"headerlink\" title=\"使用点对点信道的数据链路层\"></a>使用点对点信道的数据链路层</h1><p><strong>链路</strong> 是两结点间的一段物理线路，中间没有其他交换结点。物理链路。<br><strong>数据链路</strong> 是链路 + 通信协议。逻辑链路。</p><p><strong>帧</strong> – 点对点信道的数据链路层的协议数据单元。</p><p><img src=\"https://img.wshunli.com/计算机基础-计算机网络/3/数据链路层-三层简化模型.png-hexo.png\" alt=\"数据链路层-三层简化模型\"></p><p>数据链路层把网络层交换来的数据构成帧发送到链路上，以及把接受的帧中的数据上交给网络层。</p><p>点对点信道的数据链路层进行通信的主要步骤如下：</p><ol><li>结点A的数据链路层把网络层下发的IP数据报添加首部和尾部封装成帧；</li><li>结点A把封装好的帧发给结点B的数据链路层；</li><li>结点B收到的帧若无差错，则提取出IP数据报给网络层，否则丢弃这个帧。</li></ol><h2 id=\"链路层基本问题\"><a href=\"#链路层基本问题\" class=\"headerlink\" title=\"链路层基本问题\"></a>链路层基本问题</h2><ul><li>封装成帧</li></ul><p>链路层将网络层传下来的IP数据报添加首部（SOH）和尾部（EOH）封装成帧，这样接收端在收到物理层上交的比特流后就能根据首尾标记知道帧的开始与结束。首位和尾部的主要作用就是进行帧定界（确定帧的界限），同时还包含一些控制信息。</p><ul><li>透明传输</li></ul><p>表示无论什么样比特组合的数据都能够通过这个数据链路层，而不会因为比特流中还有特定的帧结束或开始标志而发生传输差错。</p><p><img src=\"https://img.wshunli.com/计算机基础-计算机网络/3/数据链路层-透明传输.png-hexo.png\" alt=\"数据链路层-透明传输\"></p><p>防止因传输的数据（EOT）中出现尾部控制字符而提前结束。解决办法是添加转义字符（ESC）。</p><ul><li>差错检测</li></ul><p>现实的通信链路不可避免会产生比特差错，即会有一定误码率（BER），这个和信道的信噪比有关系。为了保证数据传输可靠性，加入了一些差错检测措施，例如循环冗余检错技术（CRC）。</p><p>在数据链路层进行差错校验就需要将数据划分为帧，每一帧都加上冗余码，一帧一帧地传送和校验。但是这样只能保证帧无差错传输（无比特差错），无法保证帧丢失、重复或失序等（无传输差错）情况发生。</p><h1 id=\"点对点协议-PPP\"><a href=\"#点对点协议-PPP\" class=\"headerlink\" title=\"点对点协议 PPP\"></a>点对点协议 PPP</h1><p>用户通常要连接到某个ISP（Internet Service Provider）才能接入因特网。PPP协议则是用户与ISP通信时使用的数据链路层协议。</p><p>PPP协议主要由三个部分组成：</p><ol><li>一个将IP数据报封装到串行链路的方法。</li><li>一个用来建立、配置和测试数据链路连接的链路控制协议 LCP（Link Control Protocol）。</li><li>一套网络控制协议 NCP（Network Control Protocol），其中每个协议支持不同的网络层协议。</li></ol><p>PPP协议的工作状态：</p><p><img src=\"https://img.wshunli.com/计算机基础-计算机网络/3/数据链路层-PPP协议状态.png-hexo.png\" alt=\"数据链路层-PPP协议状态\"></p><h1 id=\"使用广播信道的数据链路层\"><a href=\"#使用广播信道的数据链路层\" class=\"headerlink\" title=\"使用广播信道的数据链路层\"></a>使用广播信道的数据链路层</h1><p>广播信道可以进行一对多的通信。</p><h2 id=\"局域网的数据链路层\"><a href=\"#局域网的数据链路层\" class=\"headerlink\" title=\"局域网的数据链路层\"></a>局域网的数据链路层</h2><p>局域网为一个单位所有，并且地理范围和站点数量有限。按照网络拓扑分类如下：</p><p><img src=\"https://img.wshunli.com/计算机基础-计算机网络/3/数据链路层-局域网网络拓扑分类.png-hexo.png\" alt=\"数据链路层-局域网网络拓扑分类\"></p><p>局域网的总线网中以太网最为著名。</p><p>适配器负责计算机与外界局域网通信，即“网卡”。</p><p><img src=\"https://img.wshunli.com/计算机基础-计算机网络/3/数据链路层-网络适配器.png-hexo.png\" alt=\"数据链路层-网络适配器\"></p><h2 id=\"CSMA-CD-协议\"><a href=\"#CSMA-CD-协议\" class=\"headerlink\" title=\"CSMA/CD 协议\"></a>CSMA/CD 协议</h2><p>载波监听多点接入/碰撞检测（Carrier Sense Multiple Access with Collision Detection)。<br>这个协议有几个要点：</p><ul><li>多点接入：总线型网络，许多计算机以多点接入的方式连接在一根总线上。协议的实质是载波监听和碰撞检测。</li><li>载波监听：发送前监听。即不管是在发送前，还是在发送中，每个站总是不停地检测总线上是否有其他站在发送数据，等信道空闲才发送。</li><li>碰撞检测：适配器边发送边监听。以便判断自己发送数据时，是否也有其他站在发送数据。如果同时多个站发送数据，总线上的传输信号会电压会增大。发生碰撞时，适配器就会立即停止发送，等一段随机时间后再次发送。</li></ul><h2 id=\"使用集线器的星型拓扑\"><a href=\"#使用集线器的星型拓扑\" class=\"headerlink\" title=\"使用集线器的星型拓扑\"></a>使用集线器的星型拓扑</h2><p>集线器的特点如下：</p><ul><li>使用集线器的以太网在逻辑上仍是个总线网，各站共享逻辑上的总线，各站使用的还是CSMA/CD协议。</li><li>一个集线器有许多接口，像一个多接口的转发器。</li><li>集线器工作在物理层，每个接口仅简单的转发比特，不进行碰检测。</li><li>自适用串音回波抵消，即接口转发的较强信号对接收的较弱信号没有干扰。</li></ul><h2 id=\"以太网的-MAC-层\"><a href=\"#以太网的-MAC-层\" class=\"headerlink\" title=\"以太网的 MAC 层\"></a>以太网的 MAC 层</h2><p>MAC 层的硬件地址</p><p>硬件地址又叫物理地址、MAC地址，是主机中固化在适配器 ROM 中的地址。</p><p>适配器有过滤功能。当适配器收到 MAC 帧的时会先检查帧中的目的地址，是发往本站的就接收，否则就丢弃。</p><p>发往本站的帧有三种：单播（一对一）、广播（一对全部）、多播（一对多）。</p><p>MAC 帧的格式</p><p><img src=\"https://img.wshunli.com/计算机基础-计算机网络/3/数据链路层-MAC帧格式.png-hexo.png\" alt=\"数据链路层-MAC帧格式\"></p><p>首部没有帧长度、尾部是帧检验序列 FCS 。</p><h1 id=\"拓展的以太网\"><a href=\"#拓展的以太网\" class=\"headerlink\" title=\"拓展的以太网\"></a>拓展的以太网</h1><ul><li>在物理层拓展以太网</li></ul><p><img src=\"https://img.wshunli.com/计算机基础-计算机网络/3/数据链路层-物理层拓展以太网.png-hexo.png\" alt=\"数据链路层-物理层拓展以太网\"></p><p>优点是扩大了以太网覆盖的地理范围，缺点是当某个系的两站通信时所传送的数据会通过所有的集线器转发，其他系内部在这时都不能通信。</p><ul><li>在链路层拓展以太网</li></ul><p>通过以太网交换机实现，实质是多接口的网桥。<br>具有并行性，相互通信的主机都是独占传输媒体，无碰撞得传输数据。<br>通过自学习建立帧交换表，按照帧目的 MAC 转发，即插即用。</p><ul><li>虚拟局域网</li></ul><p>虚拟局域网 VLAN，是由一些网段构成的与物理位置无关的逻辑组。在 VLAN 中的帧都有明确的标识符，指明该帧属于哪个 VLAN。</p><h1 id=\"高速以太网\"><a href=\"#高速以太网\" class=\"headerlink\" title=\"高速以太网\"></a>高速以太网</h1><ul><li>100BASE-T 以太网（百兆以太网）</li><li>吉比特以太网（千兆以太网）</li><li>10吉比特以太网（万兆以太网）</li></ul>","categories":[{"name":"计算机基础","path":"api/categories/计算机基础.json"}],"tags":[{"name":"读书笔记","path":"api/tags/读书笔记.json"},{"name":"计算机基础","path":"api/tags/计算机基础.json"},{"name":"《计算机网络》","path":"api/tags/《计算机网络》.json"}]}