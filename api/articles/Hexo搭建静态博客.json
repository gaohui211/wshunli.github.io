{"title":"Hexo搭建静态博客","slug":"Hexo搭建静态博客","date":"2015-12-14T06:23:45.000Z","updated":"2018-03-30T14:42:27.048Z","comments":true,"path":"api/articles/Hexo搭建静态博客.json","excerpt":"前言第一篇文章献给Hexo。<br>","covers":["https://img.wshunli.com/Hexo搭建Github静态博客/Hexo搭建Github静态博客1.png-hexo.png","https://img.wshunli.com/Hexo搭建Github静态博客/Hexo搭建Github静态博客4.png-hexo.png","https://img.wshunli.com/Hexo搭建Github静态博客/Hexo搭建Github静态博客5.png-hexo.png"],"content":"<h1 id=\"前言\"><a href=\"#前言\" class=\"headerlink\" title=\"前言\"></a>前言</h1><p>第一篇文章献给Hexo。<br><a id=\"more\"></a></p><h1 id=\"Hexo简介\"><a href=\"#Hexo简介\" class=\"headerlink\" title=\"Hexo简介\"></a>Hexo简介</h1><p>Hexo 是一个快速、简洁且高效的博客框架。Hexo 使用 Markdown（或其他渲染引擎）解析文章，在几秒内，即可利用靓丽的主题生成静态网页。</p><ul><li>超快速度 Node.js 所带来的超快生成速度，让上百个页面在几秒内瞬间完成渲染。</li><li>支持 Markdown Hexo 支持 GitHub Flavored Markdown 的所有功能，甚至可以整合 Octopress 的大多数插件。</li><li>一键部署 只需一条指令即可部署到 GitHub Pages, Heroku 或其他网站。</li><li>丰富的插件 Hexo 拥有强大的插件系统，安装插件可以让 Hexo 支持 Jade, CoffeeScript。</li></ul><!--more--><h1 id=\"环境配置\"><a href=\"#环境配置\" class=\"headerlink\" title=\"环境配置\"></a>环境配置</h1><h2 id=\"安装node-js\"><a href=\"#安装node-js\" class=\"headerlink\" title=\"安装node.js\"></a>安装node.js</h2><p>Node.js <a href=\"https://nodejs.org\" rel=\"external nofollow noopener noreferrer\" target=\"_blank\">https://nodejs.org</a></p><p>Node.js安装图解教程_百度经验<br><a href=\"http://jingyan.baidu.com/article/fd8044faf2e8af5030137a64.html\" rel=\"external nofollow noopener noreferrer\" target=\"_blank\">http://jingyan.baidu.com/article/fd8044faf2e8af5030137a64.html</a></p><h2 id=\"安装Git\"><a href=\"#安装Git\" class=\"headerlink\" title=\"安装Git\"></a>安装Git</h2><p>Git <a href=\"http://git-scm.com\" rel=\"external nofollow noopener noreferrer\" target=\"_blank\">http://git-scm.com</a></p><p><strong>推荐下载2.5.0版本、最新版本（2.6.4）总是出现问题。</strong><br>Git for windows 2.5.0 具体下载地址：<br><a href=\"https://github.com/git-for-windows/git/releases/tag/v2.5.0.windows.1\" rel=\"external nofollow noopener noreferrer\" target=\"_blank\">https://github.com/git-for-windows/git/releases/tag/v2.5.0.windows.1</a></p><p>如何在windows下安装GIT_百度经验<br><a href=\"http://jingyan.baidu.com/article/90895e0fb3495f64ed6b0b50.html\" rel=\"external nofollow noopener noreferrer\" target=\"_blank\">http://jingyan.baidu.com/article/90895e0fb3495f64ed6b0b50.html</a></p><h1 id=\"配置Github\"><a href=\"#配置Github\" class=\"headerlink\" title=\"配置Github\"></a>配置Github</h1><p>在Windows下，打开Git Bash。</p><h2 id=\"检查SSH-keys的设置\"><a href=\"#检查SSH-keys的设置\" class=\"headerlink\" title=\"检查SSH keys的设置\"></a>检查SSH keys的设置</h2><p>首先我们需要检查你电脑上现有的ssh key：</p><pre><code class=\"java\">$ cd ~/.ssh\n</code></pre><p>如果显示“No such file or directory”，跳到第三步，否则继续。</p><h2 id=\"备份和移除原来的ssh-key设置：\"><a href=\"#备份和移除原来的ssh-key设置：\" class=\"headerlink\" title=\"备份和移除原来的ssh key设置：\"></a>备份和移除原来的ssh key设置：</h2><p>因为已经存在key文件，所以需要备份旧的数据并删除：</p><pre><code class=\"java\">$ ls\nconfig  id_rsa  id_rsa.pub  known_hosts\n$ mkdir key_backup\n$ cp id_rsa* key_backup\n$ rm id_rsa*\n</code></pre><h2 id=\"生成新的SSH-Key：\"><a href=\"#生成新的SSH-Key：\" class=\"headerlink\" title=\"生成新的SSH Key：\"></a>生成新的SSH Key：</h2><p>输入下面的代码，就可以生成新的key文件，我们只需要默认设置就好，所以当需要输入文件名的时候，回车就好。</p><pre><code class=\"java\">$ ssh-keygen -t rsa -C &quot;邮件地址@youremail.com&quot;\nGenerating public/private rsa key pair.\nEnter file in which to save the key (/Users/your_user_directory/.ssh/id_rsa):&lt;回车就好&gt;\n然后系统会要你输入加密串（Passphrase）：\nEnter passphrase (empty for no passphrase):&lt;输入加密串&gt;\nEnter same passphrase again:&lt;再次输入加密串&gt;\n</code></pre><p>最后看到这样的界面，就成功设置ssh key了：<br><img src=\"https://img.wshunli.com/Hexo搭建Github静态博客/Hexo搭建Github静态博客1.png-hexo.png\" alt=\"\"></p><h2 id=\"添加SSH-Key到GitHub：\"><a href=\"#添加SSH-Key到GitHub：\" class=\"headerlink\" title=\"添加SSH Key到GitHub：\"></a>添加SSH Key到GitHub：</h2><p>在本机设置SSH Key之后，需要添加到GitHub上，以完成SSH链接的设置。</p><p>用文本编辑工具打开id_rsa.pub文件，如果看不到这个文件，你需要设置显示隐藏文件。准确的复制这个文件的内容，才能保证设置的成功。</p><p>在GitHub的主页上点击头像再点击设置按钮：settings：</p><p><img src=\"https://img.wshunli.com/Hexo搭建Github静态博客/Hexo搭建Github静态博客2.png-hexo.png\" alt=\"\"></p><p>选择SSH Keys项，把复制的内容粘贴进去，然后点击Add Key按钮即可：</p><p><img src=\"https://img.wshunli.com/Hexo搭建Github静态博客/Hexo搭建Github静态博客3.png-hexo.png\" alt=\"\"></p><h2 id=\"测试一下\"><a href=\"#测试一下\" class=\"headerlink\" title=\"测试一下\"></a>测试一下</h2><p>可以输入下面的命令，看看设置是否成功，git@github.com的部分不要修改：</p><pre><code class=\"java\">$ ssh -T git@github.com\n</code></pre><p>如果是下面的反应：</p><pre><code class=\"java\">The authenticity of host &#39;github.com (207.97.227.239)&#39; can&#39;t be established.\nRSA key fingerprint is 16:27:ac:a5:76:28:2d:36:63:1b:56:4d:eb:df:a6:48.\nAre you sure you want to continue connecting (yes/no)?`\n</code></pre><p>不要紧张，输入<code>yes</code>就好，然后会看到：</p><pre><code class=\"java\">Hi &lt;em&gt;username&lt;/em&gt;! You&#39;ve successfully authenticated, but GitHub does not provide shell access.\n</code></pre><h2 id=\"设置你的账号信息\"><a href=\"#设置你的账号信息\" class=\"headerlink\" title=\"设置你的账号信息\"></a>设置你的账号信息</h2><p>现在你已经可以通过SSH链接到GitHub了，还有一些个人信息需要完善的。</p><p>Git会根据用户的名字和邮箱来记录提交。GitHub也是用这些信息来做权限的处理，输入下面的代码进行个人信息的设置，把名称和邮箱替换成你自己的，名字必须是你的真名，而不是GitHub的昵称。</p><pre><code class=\"java\">$ git config --global user.name &quot;你的名字&quot;\n$ git config --global user.email &quot;your_email@youremail.com&quot;\n</code></pre><p><strong>好了，你已经可以成功连接GitHub了。</strong></p><h2 id=\"使用GitHub-Pages建立博客\"><a href=\"#使用GitHub-Pages建立博客\" class=\"headerlink\" title=\"使用GitHub Pages建立博客\"></a>使用GitHub Pages建立博客</h2><p>应用github pages创建自己的个人博客_百度经验<br><a href=\"http://jingyan.baidu.com/article/ed2a5d1f3732cb09f7be1745.html\" rel=\"external nofollow noopener noreferrer\" target=\"_blank\">http://jingyan.baidu.com/article/ed2a5d1f3732cb09f7be1745.html</a></p><h1 id=\"安装Hexo\"><a href=\"#安装Hexo\" class=\"headerlink\" title=\"安装Hexo\"></a>安装Hexo</h1><p>关于Hexo的安装配置过程，请以官方给出的步骤为准。<br>文档 | Hexo <a href=\"https://hexo.io/zh-cn/docs/\" rel=\"external nofollow noopener noreferrer\" target=\"_blank\">https://hexo.io/zh-cn/docs/</a></p><h2 id=\"Installation\"><a href=\"#Installation\" class=\"headerlink\" title=\"Installation\"></a>Installation</h2><p>打开Git命令行，执行如下命令</p><pre><code class=\"java\">$ npm install -g hexo\n</code></pre><h2 id=\"Setup-your-blog\"><a href=\"#Setup-your-blog\" class=\"headerlink\" title=\"Setup your blog\"></a>Setup your blog</h2><p>在电脑中建立一个名字叫<code>Hexo</code>的文件夹（比如我建在了<code>D:\\Hexo</code>），然后在此文件夹中右键打开<code>Git Bash</code>。执行下面的命令</p><pre><code class=\"java\">$ hexo init\n[info] Copying data\n[info] You are almost done! Don&#39;t forget to run `npm install` before you start b\nlogging with Hexo!\n</code></pre><p>Hexo随后会自动在目标文件夹建立网站所需要的文件。然后按照提示，运行 <code>npm install</code>（在 <code>D:\\Hexo</code>下）</p><pre><code class=\"java\">npm install\n</code></pre><p>会在<code>D:\\Hexo</code>目录中安装 node_modules。</p><h2 id=\"Start-the-server\"><a href=\"#Start-the-server\" class=\"headerlink\" title=\"Start the server\"></a>Start the server</h2><p>运行下面的命令（在<code>D:\\Hexo</code>下）</p><pre><code class=\"java\">$ hexo server\n[info] Hexo is running at http://localhost:4000/. Press Ctrl+C to stop.\n</code></pre><p>表明Hexo Server已经启动了，在浏览器中打开 <a href=\"http://localhost:4000/\" rel=\"external nofollow noopener noreferrer\" target=\"_blank\">http://localhost:4000/</a>，这时可以看到Hexo已为你生成了一篇blog。</p><p>你可以按<code>Ctrl+C</code> 停止Server。</p><h2 id=\"Create-a-new-post\"><a href=\"#Create-a-new-post\" class=\"headerlink\" title=\"Create a new post\"></a>Create a new post</h2><p>新打开一个git bash命令行窗口，cd到<code>D:\\Hexo</code>下，执行下面的命令</p><pre><code class=\"java\">$ hexo new &quot;My New Post&quot;\n[info] File created at d:\\Hexo\\source\\_posts\\My-New-Post.md\n</code></pre><p>刷新<a href=\"http://localhost:4000/\" rel=\"external nofollow noopener noreferrer\" target=\"_blank\">http://localhost:4000/</a>，可以发现已生成了一篇新文章 “My New Post”。</p><h2 id=\"Generate-static-files\"><a href=\"#Generate-static-files\" class=\"headerlink\" title=\"Generate static files\"></a>Generate static files</h2><p>执行下面的命令，将markdown文件生成静态网页。</p><pre><code class=\"java\">$ hexo generate\n</code></pre><p>该命令执行完后，会在 <code>D:\\Hexo\\public\\</code> 目录下生成一系列html，css等文件。</p><h2 id=\"编辑文章\"><a href=\"#编辑文章\" class=\"headerlink\" title=\"编辑文章\"></a>编辑文章</h2><pre><code class=\"java\">$ hexo new &quot;My New Post&quot;\n</code></pre><p>会在<code>D:\\Hexo\\source\\_posts</code>目录下生成一个markdown文件：My-New-Post.md</p><p>可以使用一个支持markdown语法的编辑器（比如 Sublime Text 2）来编辑该文件。</p><h2 id=\"部署到Github\"><a href=\"#部署到Github\" class=\"headerlink\" title=\"部署到Github\"></a>部署到Github</h2><p>部署到Github前需要配置_config.yml文件，首先找到下面的内容</p><pre><code class=\"java\"># Deployment\n##Docs: http://hexo.io/docs/deployment.html\ndeploy:\n  type:\n</code></pre><p>然后将它们修改为</p><pre><code class=\"java\"># Deployment\n## Docs: http://hexo.io/docs/deployment.html\ndeploy:\n  type: git\n  repository: git@github.com:wshunli/wshunli.github.io.git\n  branch: master\n</code></pre><h2 id=\"测试\"><a href=\"#测试\" class=\"headerlink\" title=\"测试\"></a>测试</h2><p>当部署完成后，在浏览器中打开<a href=\"http://wshunli.github.io\" rel=\"external nofollow noopener noreferrer\" target=\"_blank\">http://wshunli.github.io</a> ，正常显示网页，表明部署成功。</p><h2 id=\"总结：部署步骤\"><a href=\"#总结：部署步骤\" class=\"headerlink\" title=\"总结：部署步骤\"></a>总结：部署步骤</h2><p>每次部署的步骤，可按以下三步来进行。</p><pre><code class=\"java\">hexo clean\nhexo generate\nhexo deploy\n</code></pre><h2 id=\"总结：本地调试\"><a href=\"#总结：本地调试\" class=\"headerlink\" title=\"总结：本地调试\"></a>总结：本地调试</h2><p>在执行下面的命令后，</p><pre><code class=\"java\">$ hexo g #生成\n$ hexo s #启动本地服务，进行文章预览调试\n</code></pre><p>浏览器输入<a href=\"http://localhost:4000\" rel=\"external nofollow noopener noreferrer\" target=\"_blank\">http://localhost:4000</a>，查看搭建效果。<br>此后的每次变更_config.yml 文件或者新建文件都可以先用此命令调试，尤其是当你想调试新添加的主题时。</p><h1 id=\"配置Hexo\"><a href=\"#配置Hexo\" class=\"headerlink\" title=\"配置Hexo\"></a>配置Hexo</h1><p>Hexo的配置文件是位于blog文件夹下的_config.yml文件。<br>修改配置文件请使用Notepad++或者Sublime Text 2之类的程序，不要使用Windows自带的记事本。<br>以下为Hexo 3.0.0初始配置。常规需要修改的地方已加中文注释，未加注释的参数不建议新手修改。</p><pre><code class=\"java\"># Hexo Configuration\n## Docs: http://hexo.io/docs/configuration.html\n## Source: https://github.com/hexojs/hexo/\n\n# Site\ntitle: Hexo ##站点标题\nsubtitle: ##站点副标题\ndescription: ##站点描述\nauthor: John Doe ##作者\nlanguage: ##语言包，需要主题自带才可设置。如Jcaman自带简繁英，设置简体中文填入 zh-CN\ntimezone:\n\n# URL\n## If your site is put in a subdirectory, set url as &#39;http://yoursite.com/child&#39; and root as &#39;/child/&#39;\nurl: http://yoursite.com ##站点域名\nroot: /\npermalink: :year/:month/:day/:title/ ##文章永久链接格式，可添加.html后缀，如 :title.html\npermalink_defaults:\n\n# Directory\nsource_dir: source\npublic_dir: public\ntag_dir: tags\narchive_dir: archives\ncategory_dir: categories\ncode_dir: downloads/code\ni18n_dir: :lang\nskip_render:\n\n# Writing\nnew_post_name: :title.md # File name of new posts\ndefault_layout: post\ntitlecase: false # Transform title into titlecase\nexternal_link: true # Open external links in new tab\nfilename_case: 0\nrender_drafts: false\npost_asset_folder: false\nrelative_link: false\nfuture: true\nhighlight:\n  enable: true\n  line_number: true\n  tab_replace:\n\n# Category &amp; Tag\ndefault_category: uncategorized\ncategory_map:\ntag_map:\n\n# Date / Time format\n## Hexo uses Moment.js to parse and display date\n## You can customize the date format as defined in\n## http://momentjs.com/docs/#/displaying/format/\ndate_format: YYYY-MM-DD\ntime_format: HH:mm:ss\n\n# Pagination\n## Set per_page to 0 to disable pagination\nper_page: 10\npagination_dir: page\n\n# Extensions\n## Plugins: http://hexo.io/plugins/\n## Themes: http://hexo.io/themes/\ntheme: landscape ##当前主题名称\n\n# Deployment\n## Docs: http://hexo.io/docs/deployment.html\ndeploy:\n  type:\n</code></pre><h2 id=\"安装主题\"><a href=\"#安装主题\" class=\"headerlink\" title=\"安装主题\"></a>安装主题</h2><p>Hexo提供了很多主题，具体可参见<a href=\"https://hexo.io/themes/\" rel=\"external nofollow noopener noreferrer\" target=\"_blank\">Hexo Themes</a>。这里我选择使用<a href=\"https://github.com/iissnan/hexo-theme-next\" rel=\"external nofollow noopener noreferrer\" target=\"_blank\">NexT</a>主题。</p><p><strong>安装</strong></p><p>1.将Git Shell 切到<code>D:/Hexo</code>目录下，然后执行下面的命令，将NexT下载到 <code>/themes/pacman</code> 目录下。</p><pre><code class=\"java\">$ git clone https://github.com/iissnan/hexo-theme-next themes/next\n</code></pre><p>2.修改你的博客根目录<code>D:/Hexo</code>下的config.yml配置文件中的theme属性，将其设置为NexT。</p><p>3.更新NexT主题</p><pre><code class=\"java\">cd themes/next  \ngit pull\n</code></pre><p>NOTE：先备份_config.yml 文件后再升级</p><p><strong>配置</strong></p><p>如果next的默认设置不能满足需要的话，你可以修改 <code>/themes/next/</code>下的配置文件_config.yml来定制。</p><p>NexT - an elegant theme for Hexo.<br><a href=\"http://theme-next.iissnan.com\" rel=\"external nofollow noopener noreferrer\" target=\"_blank\">http://theme-next.iissnan.com</a></p><h1 id=\"安装插件\"><a href=\"#安装插件\" class=\"headerlink\" title=\"安装插件\"></a>安装插件</h1><p>Plugins | Hexo <a href=\"https://hexo.io/plugins/\" rel=\"external nofollow noopener noreferrer\" target=\"_blank\">https://hexo.io/plugins/</a></p><h2 id=\"多说评论系统\"><a href=\"#多说评论系统\" class=\"headerlink\" title=\"多说评论系统\"></a>多说评论系统</h2><p>多说 - 社会化评论系统<a href=\"http://duoshuo.com/\" rel=\"external nofollow noopener noreferrer\" target=\"_blank\">http://duoshuo.com/</a><br>1.登录后在首页选择 “我要安装”。<br>2.创建站点，填写站点相关信息。多说域名 这一栏填写的即是你的 duoshuo_shortname，如图：<br><img src=\"https://img.wshunli.com/Hexo搭建Github静态博客/Hexo搭建Github静态博客4.png-hexo.png\" alt=\"\"><br>3.创建站点完成后在站点配置文件 中新增 <code>duoshuo_shortname</code> 字段，值设置成上一步中的值。</p><p>例如：</p><pre><code class=\"java\">duoshuo_shortname: iissnan-notes\n</code></pre><h2 id=\"百度统计\"><a href=\"#百度统计\" class=\"headerlink\" title=\"百度统计\"></a>百度统计</h2><p>1.登录 <a href=\"http://tongji.baidu.com/\" rel=\"external nofollow noopener noreferrer\" target=\"_blank\">百度统计</a>，定位到站点的代码获取页面<br>2.复制 hm.js? 后面那串统计脚本 id，如：<br><img src=\"https://img.wshunli.com/Hexo搭建Github静态博客/Hexo搭建Github静态博客5.png-hexo.png\" alt=\"\"><br>3.编辑 站点配置文件，新增字段 <code>baidu_analytics</code> 字段，值设置成你的百度统计脚本 id。</p><h2 id=\"Swiftype-搜索\"><a href=\"#Swiftype-搜索\" class=\"headerlink\" title=\"Swiftype 搜索\"></a>Swiftype 搜索</h2><p>使用 Swiftype 之前需要前往 Swiftype 配置一个搜索引擎。<br>然后，编辑 站点配置文件，新增 <code>swiftype_key</code> 字段，值为你的 swiftype 搜索引擎的 key。</p><h1 id=\"优化Hexo\"><a href=\"#优化Hexo\" class=\"headerlink\" title=\"优化Hexo\"></a>优化Hexo</h1><h2 id=\"404页面\"><a href=\"#404页面\" class=\"headerlink\" title=\"404页面\"></a>404页面</h2><p>在<code>\\themes\\next\\source</code>添加404.html即可</p><h2 id=\"使用七牛做图床\"><a href=\"#使用七牛做图床\" class=\"headerlink\" title=\"使用七牛做图床\"></a>使用七牛做图床</h2><p>推荐使用QRSBox</p><p>QRSBox 同步工具 | 七牛云存储 <a href=\"http://developer.qiniu.com/docs/v6/tools/qrsbox.html\" rel=\"external nofollow noopener noreferrer\" target=\"_blank\">http://developer.qiniu.com/docs/v6/tools/qrsbox.html</a></p><p>官网有详细介绍、我就不再赘述。</p><p><a href=\"https://portal.qiniu.com/signup?code=3lmfxlfwo25w2\" rel=\"external nofollow noopener noreferrer\" target=\"_blank\">https://portal.qiniu.com/signup?code=3lmfxlfwo25w2</a></p><hr><blockquote><p>参考资料<br>1、Hexo搭建Github静态博客 - 金石开 - 博客园 <a href=\"http://www.cnblogs.com/zhcncn/p/4097881.html\" rel=\"external nofollow noopener noreferrer\" target=\"_blank\">http://www.cnblogs.com/zhcncn/p/4097881.html</a><br>2、使用Github Pages建独立博客 | BeiYuu.com <a href=\"http://beiyuu.com/github-pages\" rel=\"external nofollow noopener noreferrer\" target=\"_blank\">http://beiyuu.com/github-pages</a><br>3、Hexo | Setsuna’s Blog <a href=\"http://www.isetsuna.com/categories/Hexo/\" rel=\"external nofollow noopener noreferrer\" target=\"_blank\">http://www.isetsuna.com/categories/Hexo/</a><br>4、hexo | Zippera’s blog <a href=\"http://zipperary.com/categories/hexo/\" rel=\"external nofollow noopener noreferrer\" target=\"_blank\">http://zipperary.com/categories/hexo/</a><br>5、博客搬家记：从 Wordpress 到 Hexo+Github | 00’s Adventure <a href=\"http://www.uegeek.com/2016/01/10/from-wordpress-to-hexo/\" rel=\"external nofollow noopener noreferrer\" target=\"_blank\">http://www.uegeek.com/2016/01/10/from-wordpress-to-hexo/</a></p></blockquote><p><strong>在此一并致谢！</strong></p>","categories":[{"name":"博客维护","path":"api/categories/博客维护.json"}],"tags":[{"name":"Hexo","path":"api/tags/Hexo.json"}]}