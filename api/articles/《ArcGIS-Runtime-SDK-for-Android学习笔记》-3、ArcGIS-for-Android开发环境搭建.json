{"title":"《ArcGIS Runtime SDK for Android学习笔记》-3、ArcGIS for Android开发环境搭建","slug":"《ArcGIS-Runtime-SDK-for-Android学习笔记》-3、ArcGIS-for-Android开发环境搭建","date":"2016-04-08T07:58:09.000Z","updated":"2018-03-16T17:20:25.327Z","comments":true,"path":"api/articles/《ArcGIS-Runtime-SDK-for-Android学习笔记》-3、ArcGIS-for-Android开发环境搭建.json","excerpt":"本文主要针对在Windwos环境下用Android Studio搭建ArcGIS for Android开发环境<br>","covers":["https://img.wshunli.com/ArcGISforAndroid/3/ArcGISforAndroid开发环境搭建1.png-hexo.png","https://img.wshunli.com/ArcGISforAndroid/3/ArcGISforAndroid开发环境搭建2.png-hexo.png","https://img.wshunli.com/ArcGISforAndroid/3/ArcGISforAndroid开发环境搭建6.png-hexo.png","https://img.wshunli.com/ArcGISforAndroid/3/ArcGISforAndroid开发环境搭建7.png-hexo.png","https://img.wshunli.com/ArcGISforAndroid/3/ArcGISforAndroid开发环境搭建8.png-hexo.png"],"content":"<p><strong>本文主要针对在Windwos环境下用Android Studio搭建ArcGIS for Android开发环境</strong><br><a id=\"more\"></a></p><h1 id=\"新建-Android-项目\"><a href=\"#新建-Android-项目\" class=\"headerlink\" title=\"新建 Android 项目\"></a>新建 Android 项目</h1><p>1、打开Android Studio 选择 <code>Start a new Android Studio project</code> 新建一个Android项目</p><p><img src=\"https://img.wshunli.com/ArcGISforAndroid/3/ArcGISforAndroid开发环境搭建1.png-hexo.png\" alt=\"\"></p><p>2、配置项目，确定各个名称和存放项目存放路径</p><pre><code class=\"java\">Application name：项目名称\nCompany Domain：公司域名\nPackage name：APP 打包名称\nproject location：存放路径\n</code></pre><p><img src=\"https://img.wshunli.com/ArcGISforAndroid/3/ArcGISforAndroid开发环境搭建2.png-hexo.png\" alt=\"\"></p><p>3、接下来设定兼容的安卓的最小版本，这依情况而定，我这里设定为安卓4.0.3版本。</p><p><img src=\"https://img.wshunli.com/ArcGISforAndroid/3/ArcGISforAndroid开发环境搭建3.png-hexo.png\" alt=\"\"></p><p>如果不确定各个版本的区别，可以点击 Help me choose，在打开的窗口中介绍了各个安卓版本的比例。</p><p><img src=\"https://img.wshunli.com/ArcGISforAndroid/3/ArcGISforAndroid开发环境搭建3.1.png-hexo.png\" alt=\"\"></p><p>4、确定后最小兼容版本后，选择项目的活动类型，这里有很多现成的模板可以使用，对于初学者选择默认的Blank Activity即可。</p><p><img src=\"https://img.wshunli.com/ArcGISforAndroid/3/ArcGISforAndroid开发环境搭建4.png-hexo.png\" alt=\"\"></p><p>5、接下来设定活动名称，界面布局的名称，以及界面标题，最后点击Finish完成项目的创建。</p><p><img src=\"https://img.wshunli.com/ArcGISforAndroid/3/ArcGISforAndroid开发环境搭建5.png-hexo.png\" alt=\"\"></p><p>更多内容可访问以下网址：</p><p>Android studio教程：[1]创建app项目</p><p><a href=\"http://jingyan.baidu.com/article/4853e1e51ba60e1909f726ad.html\" rel=\"external nofollow noopener noreferrer\" target=\"_blank\">http://jingyan.baidu.com/article/4853e1e51ba60e1909f726ad.html</a></p><h1 id=\"配置-ArcGIS-for-Android-支持\"><a href=\"#配置-ArcGIS-for-Android-支持\" class=\"headerlink\" title=\"配置 ArcGIS for Android 支持\"></a>配置 ArcGIS for Android 支持</h1><p>Gradle是近来比较流行的一个系统构建工具，你可以通过编译自己的构建文件（build.gradle）来自定义构建流程。一个Gradle项目的构建文件是在项目的根目录下，您可以在项目的根目录下找到构建文件（build.grade）。在开发ArcGIS for Android的Gradle项目时需要配置两部分的依赖管理内容：</p><ol><li>配置 Project 的ArcGIS Repository（Esri ArcGIS maven）仓库位置</li><li>配置 App Module 的ArcGIS Runtime SDK for Android依赖。</li></ol><h2 id=\"ArcGIS-Repository-配置\"><a href=\"#ArcGIS-Repository-配置\" class=\"headerlink\" title=\"ArcGIS Repository 配置\"></a>ArcGIS Repository 配置</h2><p>打开根目录下的构建配置文件 <code>build.gradle</code> 文件，添加仓库配置，如下：</p><pre><code class=\"Groovy\">repositories {\njcenter()\n// Add the following ArcGIS repository\nmaven {\n    url &#39;https://esri.bintray.com/arcgis&#39;\n        }\n}\n</code></pre><p><img src=\"https://img.wshunli.com/ArcGISforAndroid/3/ArcGISforAndroid开发环境搭建6.png-hexo.png\" alt=\"\"></p><h2 id=\"App-Module-配置\"><a href=\"#App-Module-配置\" class=\"headerlink\" title=\"App Module 配置\"></a>App Module 配置</h2><p>App Module中的 <code>build.gradle</code> 文件适合用来放特殊的指令和任务。一个 ArcGIS Android APP 需要 ArcGIS Android API library 工程 AAR bundle 。一旦在 Project 级别的 build.gradle 文件中配置好了ArcGIS 的仓库，则可以再这个文件中声明 ArcGIS Android 的依赖。</p><p><strong>1、ArcGIS 依赖配置</strong></p><pre><code class=\"Groovy\">dependencies {\n// Add the ArcGIS Android 10.2.7 API\ncompile &#39;com.esri.arcgis.android:arcgis-android:10.2.7&#39;\n}\n</code></pre><p><strong>2、Packaging 配置</strong></p><p>在生成APK时我们可能不希望将一些文件打包到 APK 中，这时我们可通过下面的配置将所需文件排除 APK 文件中：</p><pre><code class=\"Groovy\">packagingOptions{\n    exclude &#39;META-INF/LGPL2.1&#39;\n    exclude &#39;META-INF/LICENSE&#39;\n    exclude &#39;META-INF/NOTICE&#39;\n}\n</code></pre><p><img src=\"https://img.wshunli.com/ArcGISforAndroid/3/ArcGISforAndroid开发环境搭建7.png-hexo.png\" alt=\"\"></p><h2 id=\"Permissions-和-Features-配置\"><a href=\"#Permissions-和-Features-配置\" class=\"headerlink\" title=\"Permissions 和 Features 配置\"></a>Permissions 和 Features 配置</h2><p>对于绝大多数的 ArcGIS Android 应用几乎都需要网络的支持；也有一些应用可能会需要访问设备的 SDcard ，需要对该卡有读写的权限；除此对于 GIS 来说最常用的功能就是定位了，应用应该具备定位权限。ArcGIS Android 的 MapView 使用了 OpenGL ES 2.x，所以在配置文件中还需添加 OpenGL ES 的支持，因此应用的配置文件至少包含下面的配置信息：</p><pre><code class=\"xml\">&lt;uses-permission android:name=&quot;android.permission.INTERNET&quot; /&gt;\n&lt;uses-permission android:name=&quot;android.permission.WRITE_EXTERNAL_STORAGE&quot; /&gt;\n&lt;uses-permission android:name=&quot;android.permission.ACCESS_FINE_LOCATION&quot; /&gt;\n&lt;uses-feature\n    android:glEsVersion=&quot;0x00020000&quot;\n    android:required=&quot;true&quot; /&gt;\n</code></pre><p><img src=\"https://img.wshunli.com/ArcGISforAndroid/3/ArcGISforAndroid开发环境搭建8.png-hexo.png\" alt=\"\"></p><p>至此ArcGIS for Android开发环境搭建完成</p><blockquote><p>参考资料<br>1、Install and set up ArcGIS Runtime SDK for Android<br><a href=\"https://developers.arcgis.com/android/guide/install-and-set-up.htm\" rel=\"external nofollow noopener noreferrer\" target=\"_blank\">https://developers.arcgis.com/android/guide/install-and-set-up.htm</a><br>2、Creating an Android Project<br><a href=\"https://developer.android.com/training/basics/firstapp/creating-project.html\" rel=\"external nofollow noopener noreferrer\" target=\"_blank\">https://developer.android.com/training/basics/firstapp/creating-project.html</a><br>3、ArcGIS Runtime SDK for Android 10.2.5新开发平台安装配置指南<br><a href=\"http://blog.csdn.net/arcgis_all/article/details/44060885\" rel=\"external nofollow noopener noreferrer\" target=\"_blank\">http://blog.csdn.net/arcgis_all/article/details/44060885</a></p></blockquote>","categories":[{"name":"移动GIS技术","path":"api/categories/移动GIS技术.json"}],"tags":[{"name":"Android","path":"api/tags/Android.json"},{"name":"ArcGIS","path":"api/tags/ArcGIS.json"},{"name":"ArcGIS Runtime SDK","path":"api/tags/ArcGIS Runtime SDK.json"},{"name":"ArcGIS for Android","path":"api/tags/ArcGIS for Android.json"}]}